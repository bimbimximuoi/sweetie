<!DOCTYPE html>
<html>
<head>
    <title>Sign Out</title>
    <!-- Firebase App (the core Firebase SDK) is always required and must be listed first -->
    <script src="https://www.gstatic.com/firebasejs/8.9.1/firebase-app.js"></script>
    <!-- Add Firebase products that you want to use -->
    <script src="https://www.gstatic.com/firebasejs/8.9.1/firebase-auth.js"></script>
    <script>
        // Your web app's Firebase configuration
        const firebaseConfig = {
  apiKey: "AIzaSyDFsQiksSWpjc2bp1XS5Qr_OrHCT5rgILg",
  authDomain: "pthuy-50c34.firebaseapp.com",
  projectId: "pthuy-50c34",
  storageBucket: "pthuy-50c34.appspot.com",
  messagingSenderId: "721508945676",
  appId: "1:721508945676:web:08ef795e121c5aa4b20329",
  measurementId: "G-LEN603JZBE"
};
        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);
    </script>
</head>
<body>
    <button id="signOut" onclick={signOut()} class="bg-background-dark text-white font-bold py-2 px-4 rounded mt-4 inline-block">Sign out</button>

    <script>
        // Initialize Firebase Authentication and get a reference to the service
        const auth = firebase.auth();

        const signOut = () => {
            auth.signOut().then(() => {
                fetch('/auth/signout', {
                    method: 'GET'
                }).then(response => response.json())
                  .then(data => {
                      if (data.success) {
                          console.log('User signed out');
                          // Redirect or perform any further actions after successful sign out
                          window.location.href = '/signin';  // Redirect to the homepage or any other page
                      } else {
                          console.log('Sign out failed');
                      }
                  });
            }).catch((error) => {
                console.error('Error signing out:', error);
            });
        };
    </script>
</html>
